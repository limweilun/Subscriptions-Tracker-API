import {
  SDK_TELEMETRY,
  serveBase
} from "./chunk-U6XFLG7W.mjs";

// platforms/solidjs.ts
var serve = (routeFunction, options) => {
  const handler = async (event) => {
    const method = event.request.method;
    if (method.toUpperCase() !== "POST") {
      return new Response("Only POST requests are allowed in worklfows", {
        status: 405
      });
    }
    const { handler: serveHandler } = serveBase(
      routeFunction,
      {
        sdk: SDK_TELEMETRY,
        framework: "solidjs",
        runtime: process.versions.bun ? `bun@${process.versions.bun}/node@${process.version}` : `node@${process.version}`
      },
      options
    );
    return await serveHandler(event.request);
  };
  return { POST: handler };
};
export {
  serve
};
