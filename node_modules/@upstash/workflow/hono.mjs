import {
  SDK_TELEMETRY,
  serveBase
} from "./chunk-U6XFLG7W.mjs";

// platforms/hono.ts
var serve = (routeFunction, options) => {
  const handler = async (context) => {
    const environment = context.env;
    const request = context.req.raw;
    const { handler: serveHandler } = serveBase(
      routeFunction,
      {
        sdk: SDK_TELEMETRY,
        framework: "hono"
      },
      {
        // when hono is used without cf workers, it sends a DebugHTTPServer
        // object in `context.env`. don't pass env if this is the case:
        env: "QSTASH_TOKEN" in environment ? environment : void 0,
        ...options
      }
    );
    return await serveHandler(request);
  };
  return handler;
};
export {
  serve
};
